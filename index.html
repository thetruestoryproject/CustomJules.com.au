<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    
    <section class="container">
        <div class="content">
                <h1>Hallucinations</h1>
                <p>Your story...</p>
        </div>
    </section>

    <section class="container">
        <div class="content">
            <video width="720" height="480" controls>
                <source src="movie.mp4" type="video/mp4">
                <source src="movie.ogg" type="video/ogg">
                Sadly there is suposed to be a video here
              </video>
        </div>
    </section>

    <section class="container">
        <div class="content">
                <h1>Anonymous</h1>
                <p>I had this hallucination the other day of this lady dressed in a full Victorian outfit. Dressed in black from head to toe. She ran past me with a suitcase in one hand and the child in the other. Running with such pace and determination knocking into people with my first thought being that she was late for a train that didn’t exist. What scared me most was the fact that her kid was pointing and looking at me with such determination as though there was something wrong that I wasn’t seeing.</p>
        </div>
    </section>

    <section class="container">
        <div class="content">
                <h1>Anonymous</h1>
                <p> I was having a bad trip and this eastern dragon suddenly appeared out of nowhere.  
                    Made from smoke and dust and yet it seemed friendly.
                    Flying in and out of the wooded beams of the house staying with me and protecting me that night.  
                    This was one of the most vivid experiences I had!
                    </p>
        </div>
    </section>

    <section class="container">
        <div class="content">
                <h1>Step 4</h1>
                <p>Ask friends for help</p>
        </div>
    </section>

    <div id="set-height"></div>




    <video id="v0" tabindex="0", autobuffer preload>
        <source type='video/mp4;codecs="avc1.42E01E, mp4a.40.2"' src="fingers.mp4"></source>
    </video>
    <script src="sticky.js"></script>
    <script>

        enterView({
            selector: 'section',
            enter: function(el) {
                el.classList.add('entered');
            }
        })


        var frameNumber = 0, // start video at frame 0
    // lower numbers = faster playback
    playbackConst = 1000, 
    // get page height from video duration
    setHeight = document.getElementById("set-height"), 
    // select video element         
    vid = document.getElementById('v0'); 
    // var vid = $('#v0')[0]; // jquery option

// dynamically set the page height according to video length
vid.addEventListener('loadedmetadata', function() {
  setHeight.style.height = Math.floor(vid.duration) * playbackConst + "px";
});


// Use requestAnimationFrame for smooth playback
function scrollPlay(){  
  var frameNumber  = window.pageYOffset/playbackConst;
  vid.currentTime  = frameNumber;
  window.requestAnimationFrame(scrollPlay);
}

window.requestAnimationFrame(scrollPlay);

    </script>



</body>
</html>